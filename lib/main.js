var Module,path,rs,overrided,spaces;Module=require("module"),path=require("path"),module.exports=rs={},overrided=Module.prototype.require,spaces={},Module.prototype.require=rs.require=function(e){var r,o,s;if(r=e.match(/^(\w+)::/),null!=r){if(null!=spaces[r[1]]){if(o=spaces[r[1]],s=e.substring(r[0].length).replace(/^[\/\\]/,""),s=path.resolve(o.rel,s),-1===s.indexOf(o.abs))throw Error("For security reasons, the final path cannot be an ancestor of the chosen space ('"+r[1]+"': '"+o.abs+"').");return overrided(s)}console.warn("Space '"+r[1]+"' for required '"+e+"' is not defined.")}return overrided(e)},rs.config=function(e){var r,o,s;for(r in e){o=e[r];try{spaces[r]={rel:o,abs:path.resolve(o)}}catch(t){throw s=t,Error("Absolute path to space '"+r+"': '"+o+"' cannot be resolved. Detailed message:\n "+s.message)}}return this};
